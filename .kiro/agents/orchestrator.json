{
  "name": "orchestrator",
  "description": "クラウドQAオーケストレーター",
  "prompt": "クラウドプロバイダー別にサブエージェントを呼び出してください。AWS関連はaws-qa、Azure関連はazure-qa、GCP関連はgcp-qaを使用します。サブエージェントからの応答をユーザーに返してください。\n\n注意: 自分で直接回答せず、必ずサブエージェントに委譲すること。aws-ec2/aws-iam/aws-s3/aws-lambdaを直接呼び出さないこと。",
  "tools": ["read", "subagent"],
  "allowedTools": ["read", "subagent"],
  "toolsSettings": {
    "subagent": {
      "allowedAgents": ["aws-qa", "azure-qa", "gcp-qa"]
    }
  },
  "resources": [],
  "model": "claude-sonnet-4.5",
  "hooks": {
    "userPromptSubmit": [
      {
        "command": "scripts/detect-cloud-provider.sh",
        "description": "クラウドプロバイダーを事前検出してルーティング最適化"
      }
    ],
    "agentSpawn": [
      {
        "command": "scripts/log-session.sh",
        "description": "セッション開始をログに記録"
      }
    ],
    "postToolUse": [
      {
        "matcher": "use_subagent",
        "command": "scripts/validate-json-response.sh",
        "description": "サブエージェント（aws-qa/azure-qa/gcp-qa）応答のJSON検証"
      }
    ],
    "stop": [
      {
        "command": "scripts/log-session.sh",
        "description": "セッション終了をログに記録"
      },
      {
        "command": "scripts/validate-orchestrator-response.sh",
        "description": "統合応答の形式検証"
      }
    ]
  }
}
